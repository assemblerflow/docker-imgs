# DOCKERFILE to run mash_screen for pATLAS
#FROM ummidock/assemblerflow_base:1.0.0
FROM ubuntu:16.04
MAINTAINER Tiago F. Jesus, tiagojesus@medicina.ulisboa.pt

# INSTALL DEPENDENCIES
RUN apt-get update && apt-get -y install \
    python3\
    wget

WORKDIR /ngstools/bin/

RUN wget https://github.com/marbl/Mash/releases/download/v2.0/mash-Linux64-v2.0.tar
RUN tar -xvf mash-Linux64-v2.0.tar

# adds mash to path so that it can be executed in any pwd
ENV PATH="/ngstools/bin/mash-Linux64-v2.0:$PATH"

WORKDIR /ngstools/data/

# download index file generated by mash_wrapper.py and distributed with
# its release
RUN wget https://github.com/tiagofilipe12/mash_wrapper/releases/download/1.1.0/patlas_mash_sketch.msh